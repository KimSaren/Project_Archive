(this.webpackJsonpjammming=this.webpackJsonpjammming||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),i=a(9),c=a.n(i),o=(a(15),a(6)),l=a.n(o),u=a(7),h=a(2),p=a(3),m=a(1),d=a(5),v=a(4),f=(a(17),function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={term:""},n.search=n.search.bind(Object(m.a)(n)),n.handleTermChange=n.handleTermChange.bind(Object(m.a)(n)),n}return Object(p.a)(a,[{key:"search",value:function(){console.log("Trying to search for the term: ",this.state.term),this.props.onSearch(this.state.term)}},{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:"SearchBar"},s.a.createElement("input",{placeholder:"Enter A Song, Album, or Artist",onChange:this.handleTermChange}),s.a.createElement("button",{className:"SearchButton",onClick:this.search},"SEARCH"))}}]),a}(s.a.Component)),k=(a(18),a(19),function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).renderAction=n.renderAction.bind(Object(m.a)(n)),n.addTrack=n.addTrack.bind(Object(m.a)(n)),n.removeTrack=n.removeTrack.bind(Object(m.a)(n)),n}return Object(p.a)(a,[{key:"renderAction",value:function(){var e=!0===this.props.isRemoval?"-":"+";return"+"===e?s.a.createElement("button",{className:"Track-action",onClick:this.addTrack},e):s.a.createElement("button",{className:"Track-action",onClick:this.removeTrack},e)}},{key:"addTrack",value:function(){this.props.onAdd(this.props.track)}},{key:"removeTrack",value:function(){this.props.onRemove(this.props.track)}},{key:"render",value:function(){return s.a.createElement("div",{className:"Track"},s.a.createElement("div",{className:"Track-information"},s.a.createElement("h3",null,this.props.track.name),s.a.createElement("p",null,this.props.track.artist," | ",this.props.track.album)),this.renderAction())}}]),a}(s.a.Component)),y=(a(20),function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e,t=this;return this.props.tracks&&(e=this.props.tracks.map((function(e){return s.a.createElement(k,{key:e.id,track:e,onAdd:t.props.onAdd,onRemove:t.props.onRemove,isRemoval:t.props.isRemoval})}))),s.a.createElement("div",{className:"TrackList"},e)}}]),a}(s.a.Component)),b=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"SearchResults"},s.a.createElement("h2",null,"Results"),s.a.createElement(y,{tracks:this.props.searchResults,onAdd:this.props.onAdd,isRemoval:!1}))}}]),a}(s.a.Component),T=(a(21),function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleNameChange=n.handleNameChange.bind(Object(m.a)(n)),n}return Object(p.a)(a,[{key:"handleNameChange",value:function(e){this.props.onNameChange(e.target.value)}},{key:"render",value:function(){return console.log("The playlist: ",this.props.playListTracks),s.a.createElement("div",{className:"Playlist"},s.a.createElement("input",{value:this.props.playListName,onChange:this.handleNameChange}),s.a.createElement(y,{tracks:this.props.playListTracks,onRemove:this.props.onRemove,isRemoval:!0}),s.a.createElement("button",{className:"Playlist-save",onClick:this.props.onSave},"SAVE TO SPOTIFY"))}}]),a}(s.a.Component)),j=(a(22),function(e){return Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/search?type=track&q="+e,{headers:{Authorization:"Bearer "+n}}).then((function(e){return e.json()}));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()}),O=function(e,t){return Object(u.a)(l.a.mark((function a(){var r,s,i,c,o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("Attempting to save the playlist: ",e,t),!e||!t){a.next=16;break}return r={Authorization:"Bearer "+n},a.next=6,fetch("https://api.spotify.com/v1/me",{headers:r,method:"GET"}).then((function(e){return e.json()}));case 6:return i=a.sent,s=i.id,a.next=10,fetch("https://api.spotify.com/v1/users/"+s+"/playlists",{headers:r,contentType:"application/json",method:"POST",body:JSON.stringify({name:e})}).then((function(e){return e.json()}));case 10:return c=a.sent,o=c.id,a.next=14,fetch("https://api.spotify.com/v1/users/"+s+"/playlists/"+o+"/tracks",{headers:r,contentType:"application/json",method:"POST",body:JSON.stringify({uris:t})}).then((function(e){return e.json()}));case 14:c=a.sent,o=c.id;case 16:return a.abrupt("return");case 17:case"end":return a.stop()}}),a)})))()};(function(){if(n)return n;if(window.location.href.match(/access_token=([^&]*)/)&&window.location.href.match(/expires_in=([^&]*)/)){var e=window.location.href.match(/access_token=([^&]*)/);n=e[1];var t=window.location.href.match(/expires_in=([^&]*)/)[1];return window.setTimeout((function(){return n=""}),1e3*t),window.history.pushState("Access Token",null,"/"),n}window.location="https://accounts.spotify.com/authorize?client_id=9be9fe90c93e4f03ad67c1175dd6a9bc&response_type=token&scope=playlist-modify-public&redirect_uri=http://mySpotifyPlayListDomain.surge.sh"})();var g=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={searchResults:[{name:"Never Gonna Give You Up",artist:"Rick Astley",album:"Whenever you need somebody",id:"4uLU6hMCjMI75M1A2tKUQC"}],playListName:"New PlayList",playListTracks:[]},n.addTrack=n.addTrack.bind(Object(m.a)(n)),n.removeTrack=n.removeTrack.bind(Object(m.a)(n)),n.updatePlayListName=n.updatePlayListName.bind(Object(m.a)(n)),n.savePlayList=n.savePlayList.bind(Object(m.a)(n)),n.search=n.search.bind(Object(m.a)(n)),n}return Object(p.a)(a,[{key:"addTrack",value:function(e){if(!this.state.playListTracks.find((function(t){return t.id===e.id}))){var t=this.state.playListTracks;t[t.length]=e,this.setState({playListTracks:t})}}},{key:"removeTrack",value:function(e){var t=this.state.playListTracks.findIndex((function(t){return t.id===e.id}));if(t>-1){for(var a=[],n=0,r=0;r<this.state.playListTracks.length;++r)r!==t&&(a[n]=this.state.playListTracks[r],n++);this.setState({playListTracks:a})}}},{key:"updatePlayListName",value:function(e){this.setState({playListName:e})}},{key:"savePlayList",value:function(){var e=this.state.playListTracks.map((function(e){return"spotify:track:"+e.id})),t=this.state.playListName;this.setState({playListName:"New PlayList",playListTracks:[]},(function(){O(t,e)}))}},{key:"search",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,s,i,c=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t);case 3:for(a=e.sent,n=a.tracks.items,r=[],s=0;s<n.length;++s)i={name:n[s].name,artist:n[s].artists[0].name,album:n[s].album.name,id:n[s].id},r[s]=i;this.setState({searchResults:r},(function(){console.log("Our new search results: ",c.state.searchResults)})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Ja",s.a.createElement("span",{className:"highlight"},"mmm"),"ing"),s.a.createElement("div",{className:"App"},s.a.createElement(f,{onSearch:this.search}),s.a.createElement("div",{className:"App-playlist"},s.a.createElement(b,{searchResults:this.state.searchResults,onAdd:this.addTrack}),s.a.createElement(T,{playListName:this.state.playListName,playListTracks:this.state.playListTracks,onRemove:this.removeTrack,onNameChange:this.updatePlayListName,onSave:this.savePlayList}))))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.97c2311e.chunk.js.map